(function(){"use strict";var e={215:function(e,n,r){var t=r(751),u=r(641),a={class:"conten-center"};function o(e,n,r,t,o,c){var l=(0,u.g2)("AppHeader"),s=(0,u.g2)("router-view");return(0,u.uX)(),(0,u.CE)("div",null,[(0,u.bF)(l),(0,u.Lk)("div",a,[(0,u.bF)(s)])])}var c=r(33),l=function(e){return(0,u.Qi)("data-v-6e07acf5"),e=e(),(0,u.jt)(),e},s={class:"app-header"},i={class:"nav"},v={class:"currency-selector"},f=l((function(){return(0,u.Lk)("label",{for:"base-currency",class:"label"},"Основная валюта:",-1)})),p={class:"dropdown-container"},d=["value"];function m(e,n,r,a,o,l){var m=(0,u.g2)("router-link");return(0,u.uX)(),(0,u.CE)("header",s,[(0,u.Lk)("nav",i,[(0,u.bF)(m,{to:"/",class:"nav-link"},{default:(0,u.k6)((function(){return[(0,u.eW)("Главная")]})),_:1}),(0,u.bF)(m,{to:"/convert",class:"nav-link"},{default:(0,u.k6)((function(){return[(0,u.eW)("Конвертация")]})),_:1})]),(0,u.Lk)("div",v,[f,(0,u.Lk)("div",p,[(0,u.bo)((0,u.Lk)("select",{id:"base-currency","onUpdate:modelValue":n[0]||(n[0]=function(n){return e.selectedCurrency=n}),onChange:n[1]||(n[1]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.onCurrencyChange&&e.onCurrencyChange.apply(e,n)}),class:"styled-select"},[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(e.currencies,(function(e){return(0,u.uX)(),(0,u.CE)("option",{key:e,value:e},(0,c.v_)(e),9,d)})),128))],544),[[t.u1,e.selectedCurrency]])])])])}var y=r(278),h=(0,u.pM)({name:"AppHeader",setup:function(){var e=(0,y.Pj)(),n=["USD","EUR","RUB"],r=(0,u.EW)({get:function(){return e.state.baseCurrency},set:function(n){return e.dispatch("changeBaseCurrency",n)}});return{selectedCurrency:r,currencies:n}}}),C=r(262);const b=(0,C.A)(h,[["render",m],["__scopeId","data-v-6e07acf5"]]);var g=b,k=(0,u.pM)({name:"App",components:{AppHeader:g}});const F=(0,C.A)(k,[["render",o]]);var w=F,E=r(220),L={class:"content-center"};function R(e,n,r,t,a,o){var l=(0,u.g2)("CurrencyRates");return(0,u.uX)(),(0,u.CE)("div",L,[(0,u.Lk)("h1",null,"Курсы валют относительно "+(0,c.v_)(e.selectedCurrency),1),(0,u.bF)(l,{baseCurrency:e.selectedCurrency},null,8,["baseCurrency"])])}var _=r(635),V=r(953),A={class:"content-block"},U={class:"currency-list"},I={class:"currency-name"},S={class:"currency-rate"};function O(e,n,r,t,a,o){return(0,u.uX)(),(0,u.CE)("div",A,[(0,u.Lk)("ul",U,[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(e.formattedRates,(function(n,r){return(0,u.uX)(),(0,u.CE)("li",{key:r,class:"currency-card"},[(0,u.Lk)("span",I,(0,c.v_)(r),1),(0,u.Lk)("span",S," 1 "+(0,c.v_)(e.baseCurrency)+" = "+(0,c.v_)(n.toFixed(2))+" "+(0,c.v_)(r),1),(0,u.Lk)("span",{class:(0,c.C4)(["currency-change",e.getChangeClass(e.rateChange[r])])},(0,c.v_)(e.rateChange[r]>0?"▲":"▼")+" "+(0,c.v_)(Math.abs(e.rateChange[r]).toFixed(4)),3)])})),128))])])}var T=(0,u.pM)({name:"CurrencyRates",setup:function(){var e=(0,y.Pj)(),n=(0,u.EW)((function(){return e.state.rates})),r=(0,u.EW)((function(){return e.state.baseCurrency})),t=(0,u.EW)((function(){var e=Object.entries(n.value),t={};return e.forEach((function(e){var n=e[0],u=e[1],a=n.split("-"),o=a[0],c=a[1];o===r.value.toLowerCase()&&(t[c.toUpperCase()]=u)})),t})),a=(0,u.EW)((function(){var e={};return Object.keys(t.value).forEach((function(n){e[n]=.02*Math.random()-.01})),e})),o=function(e){return e>0?"rate-up":"rate-down"};return(0,u.sV)((function(){e.dispatch("fetchRates")})),{formattedRates:t,baseCurrency:r,rateChange:a,getChangeClass:o}}});const j=(0,C.A)(T,[["render",O],["__scopeId","data-v-1ec51881"]]);var K=j,X=r(335),B=(0,u.pM)({name:"HomePage",components:{CurrencyRates:K},setup:function(){var e=this,n=(0,V.KR)("RUB"),r=(0,V.KR)({}),t=function(n){return(0,_.sH)(e,void 0,void 0,(function(){var e,t;return(0,_.YH)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,X.A.get("https://status.neuralgeneration.com/api/currency")];case 1:return e=u.sent(),e.data&&(r.value=e.data,console.log("Rates fetched for ".concat(n,":"),r.value)),[3,3];case 2:return t=u.sent(),console.error("Error fetching rates:",t),[3,3];case 3:return[2]}}))}))};return(0,u.wB)(n,(function(e){t(e)})),(0,u.sV)((function(){t(n.value)})),{selectedCurrency:n,rates:r}}});const H=(0,C.A)(B,[["render",R],["__scopeId","data-v-5dc81799"]]);var M=H,P=function(e){return(0,u.Qi)("data-v-bae68606"),e=e(),(0,u.jt)(),e},x={class:"phone-container"},D={class:"screen"},W=P((function(){return(0,u.Lk)("h1",null,"Конвертация валют",-1)})),z={class:"conversion-display"},Y=P((function(){return(0,u.Lk)("span",null,"=",-1)})),J={class:"keypad"},N=["onClick"];function Q(e,n,r,a,o,l){var s=(0,u.g2)("CurrencyDropdown");return(0,u.uX)(),(0,u.CE)("div",x,[(0,u.Lk)("div",D,[W,(0,u.Lk)("div",z,[(0,u.bF)(s,{modelValue:e.currencyFrom,"onUpdate:modelValue":n[0]||(n[0]=function(n){return e.currencyFrom=n})},null,8,["modelValue"]),(0,u.bo)((0,u.Lk)("input",{type:"number","onUpdate:modelValue":n[1]||(n[1]=function(n){return e.amountFrom=n}),onInput:n[2]||(n[2]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.handleAmountFromChange&&e.handleAmountFromChange.apply(e,n)}),style:(0,c.Tr)({fontSize:e.getFontSize(e.amountFrom)}),placeholder:"0",class:"amount-input",onFocus:n[3]||(n[3]=function(n){return e.currentInput="from"})},null,36),[[t.Jo,e.amountFrom,void 0,{number:!0}]]),Y,(0,u.bF)(s,{modelValue:e.currencyTo,"onUpdate:modelValue":n[4]||(n[4]=function(n){return e.currencyTo=n})},null,8,["modelValue"]),(0,u.bo)((0,u.Lk)("input",{type:"number","onUpdate:modelValue":n[5]||(n[5]=function(n){return e.amountTo=n}),onInput:n[6]||(n[6]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.handleAmountToChange&&e.handleAmountToChange.apply(e,n)}),style:(0,c.Tr)({fontSize:e.getFontSize(e.amountTo)}),placeholder:"0",class:"amount-input",onFocus:n[7]||(n[7]=function(n){return e.currentInput="to"})},null,36),[[t.Jo,e.amountTo,void 0,{number:!0}]])])]),(0,u.Lk)("div",J,[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(e.numbers,(function(n){return(0,u.uX)(),(0,u.CE)("button",{key:n,onClick:function(r){return e.appendNumber(n)}},(0,c.v_)(n),9,N)})),128)),(0,u.Lk)("button",{onClick:n[8]||(n[8]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.clearInput&&e.clearInput.apply(e,n)})},"C"),(0,u.Lk)("button",{onClick:n[9]||(n[9]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.backspace&&e.backspace.apply(e,n)})},"⌫"),(0,u.Lk)("button",{onClick:n[10]||(n[10]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.switchCurrencies&&e.switchCurrencies.apply(e,n)})},"⇆")])])}var q={class:"dropdown-container"},$=["value"];function G(e,n,r,a,o,l){return(0,u.uX)(),(0,u.CE)("div",q,[(0,u.bo)((0,u.Lk)("select",{"onUpdate:modelValue":n[0]||(n[0]=function(n){return e.selectedCurrency=n}),onChange:n[1]||(n[1]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.updateValue&&e.updateValue.apply(e,n)}),class:"styled-select"},[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(e.currencies,(function(e){return(0,u.uX)(),(0,u.CE)("option",{key:e,value:e},(0,c.v_)(e),9,$)})),128))],544),[[t.u1,e.selectedCurrency]])])}var Z=(0,u.pM)({name:"CurrencyDropdown",props:{modelValue:{type:String,required:!0}},emits:["update:modelValue"],setup:function(e,n){var r=n.emit,t=(0,V.KR)(["USD","EUR","RUB","CAD"]),a=(0,V.KR)(e.modelValue);(0,u.wB)((function(){return e.modelValue}),(function(e){a.value=e}));var o=function(){r("update:modelValue",a.value)};return{currencies:t,selectedCurrency:a,updateValue:o}}});const ee=(0,C.A)(Z,[["render",G],["__scopeId","data-v-d4eba430"]]);var ne=ee,re=(0,u.pM)({name:"ConvertPage",components:{CurrencyDropdown:ne},setup:function(){var e=this,n=(0,V.KR)("RUB"),r=(0,V.KR)("USD"),t=(0,V.KR)(null),a=(0,V.KR)(null),o=(0,V.KR)({}),c=(0,V.KR)("from"),l=["1","2","3","4","5","6","7","8","9","0","."],s=function(){return(0,_.sH)(e,void 0,void 0,(function(){var e,n;return(0,_.YH)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,X.A.get("https://status.neuralgeneration.com/api/currency")];case 1:return e=r.sent(),e.data&&(o.value=e.data,i()),[3,3];case 2:return n=r.sent(),console.error("Error fetching rates:",n),[3,3];case 3:return[2]}}))}))},i=function(){if(null!==t.value&&n.value&&r.value){var e="".concat(n.value.toLowerCase(),"-").concat(r.value.toLowerCase()),u=o.value[e];u&&(a.value=parseFloat((t.value*u).toFixed(2)))}},v=function(){"from"===c.value&&null!==t.value&&i()},f=function(){if("to"===c.value&&null!==a.value){var e="".concat(r.value.toLowerCase(),"-").concat(n.value.toLowerCase()),u=o.value[e];u&&null!==a.value?t.value=parseFloat((a.value/u).toFixed(2)):t.value=null}};(0,u.wB)(t,(function(){"from"===c.value&&i()})),(0,u.wB)(a,(function(){"to"===c.value&&f()}));var p=function(e){if(null===e)return"2rem";var n=e.toString().length;return n>10?"".concat(Math.max(2-.1*(n-10),1.2),"rem"):"2rem"},d=function(e){var n="from"===c.value?t:a;null===n.value?n.value=parseFloat(e):n.value=parseFloat("".concat(n.value).concat(e)),"from"===c.value?v():f()},m=function(){var e="from"===c.value?t:a;e.value=null,"from"===c.value?a.value=null:t.value=null},y=function(){var e="from"===c.value?t:a;e.value&&(e.value=parseFloat(e.value.toString().slice(0,-1))||null,"from"===c.value?v():f())},h=function(){var e;e=[r.value,n.value],n.value=e[0],r.value=e[1],i()};return s(),{currencyFrom:n,currencyTo:r,amountFrom:t,amountTo:a,numbers:l,appendNumber:d,clearInput:m,backspace:y,switchCurrencies:h,getFontSize:p}}});const te=(0,C.A)(re,[["render",Q],["__scopeId","data-v-bae68606"]]);var ue=te,ae=[{path:"/",name:"HomePage",component:M},{path:"/convert",name:"ConvertPage",component:ue}],oe=(0,E.aE)({history:(0,E.LA)(),routes:ae}),ce=oe,le=(0,y.y$)({state:{rates:{},baseCurrency:"RUB"},mutations:{setRates:function(e,n){e.rates=n},setBaseCurrency:function(e,n){e.baseCurrency=n}},actions:{fetchRates:function(e){var n=e.commit;return(0,_.sH)(this,void 0,void 0,(function(){var e,r;return(0,_.YH)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,X.A.get("https://status.neuralgeneration.com/api/currency")];case 1:return e=t.sent(),n("setRates",e.data),[3,3];case 2:return r=t.sent(),console.error("Failed to fetch rates:",r),[3,3];case 3:return[2]}}))}))},changeBaseCurrency:function(e,n){var r=e.commit,t=e.dispatch;r("setBaseCurrency",n),t("fetchRates")}},getters:{rates:function(e){return e.rates},baseCurrency:function(e){return e.baseCurrency}}});(0,t.Ef)(w).use(le).use(ce).mount("#app")}},n={};function r(t){var u=n[t];if(void 0!==u)return u.exports;var a=n[t]={exports:{}};return e[t](a,a.exports,r),a.exports}r.m=e,function(){var e=[];r.O=function(n,t,u,a){if(!t){var o=1/0;for(i=0;i<e.length;i++){t=e[i][0],u=e[i][1],a=e[i][2];for(var c=!0,l=0;l<t.length;l++)(!1&a||o>=a)&&Object.keys(r.O).every((function(e){return r.O[e](t[l])}))?t.splice(l--,1):(c=!1,a<o&&(o=a));if(c){e.splice(i--,1);var s=u();void 0!==s&&(n=s)}}return n}a=a||0;for(var i=e.length;i>0&&e[i-1][2]>a;i--)e[i]=e[i-1];e[i]=[t,u,a]}}(),function(){r.d=function(e,n){for(var t in n)r.o(n,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};r.O.j=function(n){return 0===e[n]};var n=function(n,t){var u,a,o=t[0],c=t[1],l=t[2],s=0;if(o.some((function(n){return 0!==e[n]}))){for(u in c)r.o(c,u)&&(r.m[u]=c[u]);if(l)var i=l(r)}for(n&&n(t);s<o.length;s++)a=o[s],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(i)},t=self["webpackChunkcurrency_converter"]=self["webpackChunkcurrency_converter"]||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))}();var t=r.O(void 0,[504],(function(){return r(215)}));t=r.O(t)})();
//# sourceMappingURL=app.cb96b77b.js.map